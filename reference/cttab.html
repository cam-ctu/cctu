<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate an table of descriptive statistics. — cttab • cctu</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate an table of descriptive statistics. — cttab"><meta name="description" content="This is a wrapper function of stat_tab, allowing for grouped variables,
split statistics table by `row_split` variable."><meta property="og:description" content="This is a wrapper function of stat_tab, allowing for grouped variables,
split statistics table by `row_split` variable."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cctu</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/analysis-template.html">Analysis Template</a></li>
    <li><a class="dropdown-item" href="../articles/code_tree_doc_pdf.html">Code Tree Document PDF format</a></li>
    <li><a class="dropdown-item" href="../articles/code_tree_doc.html">Code Tree Document</a></li>
    <li><a class="dropdown-item" href="../articles/rmarkdown_report.html">Vignette Report HTML</a></li>
    <li><a class="dropdown-item" href="../articles/using-cttab.html">Use cttab in the Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate an table of descriptive statistics.</h1>

      <div class="d-none name"><code>cttab.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a wrapper function of <code>stat_tab</code>, allowing for grouped variables,
split statistics table by `row_split` variable.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cttab</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">cttab</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row_split <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_missing <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_obs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_digits"</span>, default <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  digits_pct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_digits_pct"</span>, default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  rounding_fn <span class="op">=</span> <span class="va">signif_pad</span>,</span>
<span>  subjid_string <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_subjid_string"</span>, default <span class="op">=</span> <span class="st">"subjid"</span><span class="op">)</span>,</span>
<span>  print_plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_print_plot"</span>, default <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  render_num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_render_num"</span>, default <span class="op">=</span> <span class="st">"Median [Min, Max]"</span><span class="op">)</span>,</span>
<span>  logical_na_impute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">NA</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  blinded <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_blinded"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'formula'</span></span>
<span><span class="fu">cttab</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_missing <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_obs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_digits"</span>, default <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  digits_pct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_digits_pct"</span>, default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  rounding_fn <span class="op">=</span> <span class="va">signif_pad</span>,</span>
<span>  subjid_string <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_subjid_string"</span>, default <span class="op">=</span> <span class="st">"subjid"</span><span class="op">)</span>,</span>
<span>  print_plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_print_plot"</span>, default <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  render_num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_render_num"</span>, default <span class="op">=</span> <span class="st">"Median [Min, Max]"</span><span class="op">)</span>,</span>
<span>  logical_na_impute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">NA</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  blinded <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cctu_blinded"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Variables to be used or a <code>formula</code> for summary table.
If <code>x</code> is a <code>formula</code>, then the <code>group</code> variable should
 be provided at the right had side, use <code>1</code> if there's no grouping
variable. And <code>row_split</code> should also be provided on the right hand side
of the formula and separate it using <code>|</code> with grouping variable. For example,
<code>age + sex ~ treat|cycle</code> or <code>age + sex ~ 1|cycle</code> without grouping.
See details.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not used.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A <code>data.frame</code> from which the variables in <code>vars</code>
should be taken.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Name of the grouping variable.</p></dd>


<dt id="arg-row-split">row_split<a class="anchor" aria-label="anchor" href="#arg-row-split"></a></dt>
<dd><p>Variable that used for splitting table rows, rows will be
split using this variable. Useful for repeated measures.</p></dd>


<dt id="arg-total">total<a class="anchor" aria-label="anchor" href="#arg-total"></a></dt>
<dd><p>If a "Total" column will be created (default). Specify
<code>FALSE</code> to omit the column.</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>a named vector with as many components as row-variables. Every
element of `select` will be used to select the individuals to be analyzed
 for every row-variable. Name of the vector corresponds to the row variable,
 element is the selection.</p></dd>


<dt id="arg-add-missing">add_missing<a class="anchor" aria-label="anchor" href="#arg-add-missing"></a></dt>
<dd><p>If missing number and missing percentage will be
  reported in the summary table, default is `TRUE`. This will also produce
data missingness report if set <code>TRUE</code>. See <code><a href="report_missing.html">report_missing</a></code>
for details.</p></dd>


<dt id="arg-add-obs">add_obs<a class="anchor" aria-label="anchor" href="#arg-add-obs"></a></dt>
<dd><p>Add an observation row (default).</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>An integer specifying the number of significant digits to keep,
default is 3.</p></dd>


<dt id="arg-digits-pct">digits_pct<a class="anchor" aria-label="anchor" href="#arg-digits-pct"></a></dt>
<dd><p>An integer specifying the number of digits after the
decimal place for percentages, default is 0.</p></dd>


<dt id="arg-rounding-fn">rounding_fn<a class="anchor" aria-label="anchor" href="#arg-rounding-fn"></a></dt>
<dd><p>The function to use to do the rounding. Defaults is
<code><a href="signif_pad.html">signif_pad</a></code>. To round up by digits instead of significant
values, set it to <code>round_pad</code>.</p></dd>


<dt id="arg-subjid-string">subjid_string<a class="anchor" aria-label="anchor" href="#arg-subjid-string"></a></dt>
<dd><p>A character naming the column used to identify subject,
default is <code>"subjid"</code>.</p></dd>


<dt id="arg-print-plot">print_plot<a class="anchor" aria-label="anchor" href="#arg-print-plot"></a></dt>
<dd><p>A logical value, print summary plot of the variables (default).</p></dd>


<dt id="arg-render-num">render_num<a class="anchor" aria-label="anchor" href="#arg-render-num"></a></dt>
<dd><p>A character or vector indicating which summary will be reported,
 default is "Median [Min, Max]". You can change this to "Median [Q1, Q3]" then the
median and IQR will be reported instead of "Median [Min, Max]". Use
<code>options(cctu_render_num = "Median [IQR]")</code> to set global options.
See details <code><a href="render_numeric.html">render_numeric</a></code> <code><a href="num_stat.html">num_stat</a></code>.</p></dd>


<dt id="arg-logical-na-impute">logical_na_impute<a class="anchor" aria-label="anchor" href="#arg-logical-na-impute"></a></dt>
<dd><p>Impute missing values with <code>FALSE</code> (default),
<code>NA</code> keep as it is, or <code>TRUE</code>. The nominator for the logical vector is
the number of <code>TRUE</code>. For <code>FALSE</code> or <code>TRUE</code>, the denominator will
 be all values regardless of missingness, but the non-missing number used as
denominator for <code>NA</code>. Set it to <code>FALSE</code> if you want to summarise multiple
choice variables and <code>NA</code> for Yes/No type logical variables but don't want No
in the summary. You can used a named list in <code>x</code> and stack multiple
 choice in one category.</p></dd>


<dt id="arg-blinded">blinded<a class="anchor" aria-label="anchor" href="#arg-blinded"></a></dt>
<dd><p>A logical scalar, if summary table will be report by
<code>group</code> (default) or not. This will ignore <code>group</code> if set to <code>TRUE</code>
and grouping summary will not be reported.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A matrix with `cttab` class.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>1. Parameter settings with global options</strong></p>
<p>Some of the function parameters can be set with options. This will have an global
effect on the <code>cctab</code> function. It is an ideal way to set a global settings
if you want this to be effective globally. Currently, you can set <code>digits</code>,
<code>digits_pct</code>, <code>subjid_string</code>, <code>print_plot</code>, <code>render_num</code> and
<code>blinded</code>  by adding <code>"cctu_"</code> prefix in the <code>options</code>. For example,
 you can suppress the plot from printing by setting <code>options(cctu_print_plot = FALSE)</code>.</p>
<p><strong>2. Formula interface</strong></p>
<p>There are two interfaces, the default, which typically takes a variable vector from
<code>data.frame</code> for <code>x</code>, and the formula interface. The formula interface is
 less flexible, but simpler to use and designed to handle the most common use cases.
For the formula version, the formula is expected to be a two-sided formula. Left hand
side is the variables to be summarised and the right hand side is the group and/or split
 variable. To include a row splitting variable, use <code>|</code> to separate the row splitting
variable after the grouping variable and then the row split variable. For example,
<code>age + sex ~ treat|visit</code>. The right hand side of the formula will be treated as a grouping
 variable by default. A value of <code>1</code> should be provided if there is no grouping variable,
 for example <code>age + sex ~ 1</code> or <code>age + sex ~ 1|visit</code> by visit.</p>
<p><strong>3. Return</strong></p>
<p>A summary table with some attributes will be reutned, a method has been writen for <code>rbind</code>.
So you can use <code>rbind</code> to combine two tables without losing any attributes. An attribute
<code>position</code> will be used to produce a nice table. There are three 4 possible values for each
rows. Row name printed as the first column in the word table. Some styles will be applied to each
row based on the <code>position</code> attributes.</p><table class="table table"><tr><td><code>0</code></td><td>indicates the row will be  in bold, spanned through all columns and a grey background
in the word</td></tr><tr><td></td><td></td></tr><tr><td><code>1</code></td><td>indicates the row will be in bold</td></tr><tr><td></td><td></td></tr><tr><td><code>2</code></td><td>the row will be in bold and spanned through all columns</td></tr><tr><td></td><td></td></tr><tr><td><code>3</code></td><td>indicates the row of the first column will be indented</td></tr></table></div>
    <div class="section level2">
    <h2 id="methods-by-class-">Methods (by class)<a class="anchor" aria-label="anchor" href="#methods-by-class-"></a></h2>

<ul><li><p><code>cttab(default)</code>: The default interface, where <code>x</code> is a <code>data.frame</code>.</p></li>
<li><p><code>cttab(formula)</code>: The formula interface, where <code>x</code> is a <code>formula</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="signif_pad.html">signif_pad</a></code>
<code><a href="signif_pad.html">round_pad</a></code>
<code><a href="stat_tab.html">stat_tab</a></code>
<code><a href="sumby.html">sumby</a></code>
<code><a href="dump_missing_report.html">dump_missing_report</a></code>
<code><a href="dump_missing_report.html">get_missing_report</a></code>
<code><a href="render_numeric.html">render_numeric</a></code>
<code><a href="render_cat.html">render_cat</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read data</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pilotdata.csv"</span>, package<span class="op">=</span><span class="st">"cctu"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dlu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pilotdata_dlu.csv"</span>, package<span class="op">=</span><span class="st">"cctu"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">clu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pilotdata_clu.csv"</span>, package<span class="op">=</span><span class="st">"cctu"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dt</span><span class="op">$</span><span class="va">subjid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">dt</span><span class="op">$</span><span class="va">USUBJID</span>, <span class="fl">8</span>, <span class="fl">11</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Apply variable attributes</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="apply_macro_dict.html">apply_macro_dict</a></span><span class="op">(</span><span class="va">dt</span>, <span class="va">dlu</span>, <span class="va">clu</span>, clean_names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract form data to be analysed</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_form.html">extract_form</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"PatientReg"</span>, vars_keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subjid"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">########################################################</span></span></span>
<span class="r-in"><span><span class="co">#  Simple analysis no group and variable subset</span></span></span>
<span class="r-in"><span><span class="co">######################################################</span></span></span>
<span class="r-in"><span><span class="co"># Variable as a vector</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">cttab</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"BMIBL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             data <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>             select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMIBL"</span> <span class="op">=</span> <span class="st">"RACEN != 1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cttab-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Variable as a formula, equivalent to above</span></span></span>
<span class="r-in"><span><span class="va">X1</span> <span class="op">&lt;-</span> <span class="fu">cttab</span><span class="op">(</span><span class="va">AGE</span> <span class="op">+</span> <span class="va">SEX</span> <span class="op">+</span> <span class="va">BMIBL</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>            data <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>            select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMIBL"</span> <span class="op">=</span> <span class="st">"RACEN != 1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cttab-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#############################################</span></span></span>
<span class="r-in"><span><span class="co">#  Analysis by group</span></span></span>
<span class="r-in"><span><span class="co">############################################</span></span></span>
<span class="r-in"><span><span class="co"># Variable as a vector</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">cttab</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"BMIBL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             group <span class="op">=</span> <span class="st">"ARM"</span>,</span></span>
<span class="r-in"><span>             data <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>             select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMIBL"</span> <span class="op">=</span> <span class="st">"RACEN != 1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cttab-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############################################</span></span></span>
<span class="r-in"><span><span class="co"># Analysis by group and cycles</span></span></span>
<span class="r-in"><span><span class="co">############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_form.html">extract_form</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"Lab"</span>, vars_keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subjid"</span>, <span class="st">"ARM"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">cttab</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AST"</span>, <span class="st">"BILI"</span>, <span class="st">"ALT"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  group <span class="op">=</span> <span class="st">"ARM"</span>,</span></span>
<span class="r-in"><span>                  data <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>                  row_split <span class="op">=</span> <span class="st">"AVISIT"</span>,</span></span>
<span class="r-in"><span>                  select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ALT"</span> <span class="op">=</span> <span class="st">"PERF == 1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cttab-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############################################</span></span></span>
<span class="r-in"><span><span class="co"># Group variables</span></span></span>
<span class="r-in"><span><span class="co">############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_form.html">extract_form</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"PatientReg"</span>, vars_keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subjid"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">base_lab</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_form.html">extract_form</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"Lab"</span>, visit <span class="op">=</span> <span class="st">"SCREENING"</span>, vars_keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subjid"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">base_lab</span><span class="op">$</span><span class="va">ABNORMALT</span> <span class="op">&lt;-</span> <span class="va">base_lab</span><span class="op">$</span><span class="va">ALT</span> <span class="op">&gt;</span> <span class="fl">22.5</span></span></span>
<span class="r-in"><span><span class="fu"><a href="var_lab.html">var_lab</a></span><span class="op">(</span><span class="va">base_lab</span><span class="op">$</span><span class="va">ABNORMALT</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"ALT abnormal"</span></span></span>
<span class="r-in"><span><span class="va">base_lab</span><span class="op">$</span><span class="va">ABNORMAST</span> <span class="op">&lt;-</span> <span class="va">base_lab</span><span class="op">$</span><span class="va">AST</span> <span class="op">&gt;</span> <span class="fl">25.5</span></span></span>
<span class="r-in"><span><span class="fu"><a href="var_lab.html">var_lab</a></span><span class="op">(</span><span class="va">base_lab</span><span class="op">$</span><span class="va">ABNORMAST</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"AST abnormal"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">base_lab</span>, by <span class="op">=</span> <span class="st">"subjid"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">cttab</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"BMIBL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="st">"Blood"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ALT"</span>, <span class="st">"AST"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="st">"Patients with Abnormal"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ABNORMAST"</span>, <span class="st">"ABNORMALT"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          group <span class="op">=</span> <span class="st">"ARM"</span>,</span></span>
<span class="r-in"><span>          data <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>          select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMIBL"</span> <span class="op">=</span> <span class="st">"RACEN != 1"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"ALT"</span> <span class="op">=</span> <span class="st">"PERF == 1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cttab-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Bond.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

