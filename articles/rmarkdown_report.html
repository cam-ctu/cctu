<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generate HTML Report â€¢ cctu</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate HTML Report">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cctu</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.8.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/analysis-template.html">Analysis Template</a></li>
    <li><a class="dropdown-item" href="../articles/using-cttab.html">Use cttab in the Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/rmarkdown_report.html">Generate HTML Report</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cam-ctu/cctu/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate HTML Report</h1>
                        <h4 data-toc-skip class="author">Simon Bond
&amp; Alimu Dayimu</h4>
            
            <h4 data-toc-skip class="date">2025-11-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cam-ctu/cctu/blob/master/vignettes/rmarkdown_report.Rmd" class="external-link"><code>vignettes/rmarkdown_report.Rmd</code></a></small>
      <div class="d-none name"><code>rmarkdown_report.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Sometimes you may want to prodice a report in HTML format insead of
Word. You can rewirte your analysis in RMarkdown and use the
<code>knitr</code> package to generate a report. Or you can use the
outputs from the <code>cctu</code> package to generate a HTML report
instead of converting the Word to HTML. The HTML report has a nice
layout and easy to read. It can resize the table to fit the screen size
and interact with the table or figures. This will give the CI
flexibility to look at the report in more detail. There is a nice R
workflow tutorial by <a href="https://hbiostat.org/rflow/" class="external-link">Frank E
Harrell Jr</a> on reporting.</p>
<p>But here we will be focusing on converting the <code>cctu</code>
package output to HTML. The report is generated from the XML files in
the <code>Output/</code> directory. Under this folder, you should have
<code>Core/</code> and <code>Figures/</code> folders. The
<code>Core/</code> folder contains the XML files for the tables and
text. The <code>Figures/</code> folder contains the figures. The report
will be generated from these files. It will also relies on the
<code>meta_table.csv</code> file in the <code>Output/</code> folder.
This file contains the information about the tables, text and the R
script generated the corresponding tables/figures. There are templates
you can use to generate the report.</p>
<ul>
<li><strong>RMarkdown</strong></li>
<li><strong>Quarto</strong></li>
</ul>
<p>Before you start, make sure you do the following in your
<code>main.R</code> file.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/get_meta_table.html">get_meta_table</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>  file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"Output"</span>,<span class="st">"meta_table.csv"</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This is to make sure that all the meta data is saved in the
<code>meta_table.csv</code> file. This file will be used as an input to
the report. As this file includes information about the item type
(tables, text or figure), item number and R scripts used to generate the
item. It is important to make sure that this file is up to date.</p>
</div>
<div class="section level2">
<h2 id="rmarkdown-report">RMarkdown report<a class="anchor" aria-label="anchor" href="#rmarkdown-report"></a>
</h2>
<p>The <code>rmarkdown_report.Rmd</code> file is the main file that will
be used to generate the report. The <code>table.Rmd</code> and
<code>text.Rmd</code> files are the templates for the tables and text
respectively. The <code>rmarkdown_report.Rmd</code> file will call these
templates to generate the report.</p>
<p>You can use the follwoing code to copy the templates to the current
working directory.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy the templates to the Progs folder under current working directory</span></span>
<span><span class="va">rmd_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"assets/rmd"</span>, package <span class="op">=</span> <span class="st">"cctu"</span><span class="op">)</span>,</span>
<span>                        pattern <span class="op">=</span> <span class="st">"*.Rmd"</span>,</span>
<span>                        full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">rmd_files</span>, </span>
<span>          to <span class="op">=</span> <span class="st">"Progs"</span>, </span>
<span>          overwrite <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>          recursive <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>          copy.mode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>After copying the files, you can modify the template as you wish.
Then use the following code to generate the report.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span></span>
<span>  <span class="co"># Path to the RMD template file</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"Progs"</span>, <span class="st">"rmarkdown_report.Rmd"</span><span class="op">)</span>, </span>
<span>  <span class="co"># Name of the output file</span></span>
<span>  output_file <span class="op">=</span> <span class="st">"Vignette Report.html"</span>,  </span>
<span>  <span class="co"># Set the output directory to the Output/Reports folder</span></span>
<span>  output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"Output"</span>, <span class="st">"Reports"</span><span class="op">)</span>,</span>
<span>  <span class="co"># Set the working directory to the current working directory instead of the RMD file</span></span>
<span>  knit_root_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    my_author <span class="op">=</span> <span class="st">"Simon Bond"</span>,  <span class="co"># Name of the author</span></span>
<span>    my_title <span class="op">=</span> <span class="st">"Vignette Report"</span> <span class="co"># Title of the report</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Click <a href="./html/rmarkdown_report.html">here</a> to see the
example output of the report generated by the
<code>rmarkdown_report.Rmd</code> file.</p>
</div>
<div class="section level2">
<h2 id="quarto-report">Quarto report<a class="anchor" aria-label="anchor" href="#quarto-report"></a>
</h2>
<p><a href="https://quarto.org/" class="external-link">Quarto</a> is a new open-source
scientific and technical publishing system built on Pandoc (used by
previous method). It is a great tool for creating reports,
presentations, and websites. It is similar to RMarkdown but has more
features and is more flexible. You can use Quarto to create a report in
HTML format.</p>
<p>First, you need to copy yhe templates to the current working
directory.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"assets/qmd/quarto-report.qmd"</span>, package <span class="op">=</span> <span class="st">"cctu"</span><span class="op">)</span>, </span>
<span>          to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>          overwrite <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>          recursive <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>          copy.mode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>After copying the files, you can modify the template as you wish.
Then use the following code to generate the report.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">quarto</span><span class="fu">::</span><span class="fu">quarto_render</span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="st">"quarto-report.qmd"</span>, <span class="co"># Path to the QMD template file</span></span>
<span>  <span class="co"># Name of the output file</span></span>
<span>  output_file <span class="op">=</span> <span class="st">"Vignette Report.html"</span>, </span>
<span>  <span class="co"># Set the output format to HTML</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  <span class="co"># Params to be passed to the QMD file</span></span>
<span>  execute_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    my_author <span class="op">=</span> <span class="st">"Simon Bond"</span>,</span>
<span>    my_title <span class="op">=</span> <span class="st">"Vignette Report"</span>,</span>
<span>    tinny_table <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># Use the tinny table format for the tables</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Click <a href="./html/quarto_report.html">here</a> to see the example
output of the report generated by the <code>quarto-report.qmd</code>
file.</p>
<p>You can not set other directory for the output file with
<code>quarto::quarto_render()</code>. You can also not be able to
redirect the output to a different directory. For example,
<code>output_file = "Vignette Report.html"</code> will not work. The
<code>quarto::quarto_render()</code> will always generate the output
file in the current working directory. You can use the
<code><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy()</a></code> function or manully move the file to the
desired directory.</p>
<p>You can set the <code>tinny_table=FALSE</code> if you want to use the
<code>flextable</code> package to generate the tables. The
<code>Rmd</code> uses the <a href="https://cran.r-project.org/package=kableExtra" class="external-link"><code>kableExtra</code></a>
package to generate the tables. The <code>QMD</code> uses the <a href="https://cran.r-project.org/package=flextable" class="external-link"><code>flextable</code></a>
or <a href="https://cran.r-project.org/package=tinnytable" class="external-link"><code>tinnytable</code></a>
package to generate the tables. The <code>flextable</code> is good for
Word and HTML output but not so good for PDF and anyother formats. The
<code>kableExtra</code> is built on the top <code>kabel</code> from
<code>knitr</code> with complex coding. The <code>kableExtra</code> and
<code>flextable</code> is more flexible than the <code>tinnytable</code>
package but it is also more complex. The <code>tinnytable</code> package
is a lightweight package that is easy to use and has a simple syntax
with no dependencies. Please makesure you have install the relevant
packages before you run the code.</p>
</div>
<div class="section level2">
<h2 id="remark">Remark<a class="anchor" aria-label="anchor" href="#remark"></a>
</h2>
<p>You can change produce multiple types of reports using the same
template. Including HTML, Word and PDF. But you should use the
<code>write_docx</code> for the word and PDF as it will gives you a
better looking output. You can save the word file as a PDF file.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Bond, Alimu Dayimu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
